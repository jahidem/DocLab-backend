"use strict";(self.webpackChunkdoclab_frontend=self.webpackChunkdoclab_frontend||[]).push([[315],{910:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var r=t(460),l=t(791),a=t(540),o=t(775),i=(t(77),["value","apiRef","onTabChange","onChange","onProgress","customTabs","previewUrlCallback","metadataCallback"]),u={height:"500px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},c=function(e,n){var t=[];return e&&(t=Array.isArray(e)?e:[e]),t},f=function(e){var n=(0,l.useState)((function(){return"uploadcare-".concat(Date.now())})),t=(0,r.b)(n,1)[0],f=(0,l.useMemo)((function(){return l.createElement("style",null,function(e){return"\n  .".concat(e," .uploadcare--preview__done:not(.uploadcare-tab-effects--done),\n  .").concat(e," .uploadcare--panel__done:not(.uploadcare-tab-effects--done) {\n    display: none;\n  }\n")}(t))}),[t]),s=function(e,n){var t=e.value,a=e.apiRef,u=e.onTabChange,f=e.onChange,s=e.onProgress,d=e.customTabs,C=e.previewUrlCallback,b=e.metadataCallback,v=(0,r._)(e,i),p=v.tabsCss,L=v.locale,m=v.localeTranslations,A=v.localePluralize,w=(0,l.useRef)(null),E=(0,l.useRef)(null),y=(0,o.u)(u),R=(0,o.u)(f),T=(0,o.u)(s),_=(0,o.u)(b),h=(0,o.u)(C||o.d);return(0,o.a)(d,n),(0,o.b)((function(){return L&&(window.UPLOADCARE_LOCALE=L),A&&(window.UPLOADCARE_LOCALE_PLURALIZE=A),m&&(window.UPLOADCARE_LOCALE_TRANSLATIONS=m),function(){L&&delete window.UPLOADCARE_LOCALE,A&&delete window.UPLOADCARE_LOCALE_PLURALIZE,m&&delete window.UPLOADCARE_LOCALE_TRANSLATIONS}}),[L,A,m]),(0,l.useEffect)((function(){n&&p&&"string"===typeof p&&(0===p.indexOf("https://")?n.tabsCss.addUrl(p):n.tabsCss.addStyle(p))}),[n,p]),(0,l.useEffect)((function(){var e=c(t);E.current&&E.current.reject(),E.current=n.openPanel(w.current,e,(0,r.a)((0,r.a)({multipleMax:v.multiple?void 0:1},v),{},{multiple:!0,metadataCallback:v.metadata?void 0:_,previewUrlCallback:h}))}),[n].concat((0,r.c)(Object.values(v)))),(0,l.useEffect)((function(){var e=E.current;e.progress(y);var n=function(){var e=E.current.fileColl.__items.map((function(e){return e.promise()}));R(e)},t=function(){var e=E.current.fileColl.lastProgresses();T(e)};return e.fileColl.anyProgressList.add(t),e.fileColl.anyDoneList.add(n),e.fileColl.anyFailList.add(n),e.fileColl.onRemove.add(n),e.fileColl.onReplace.add(n),e.fileColl.onSort.add(n),function(){var e=E.current;e.fileColl.anyProgressList.remove(t),e.fileColl.anyDoneList.remove(n),e.fileColl.anyFailList.remove(n),e.fileColl.onRemove.remove(n),e.fileColl.onReplace.remove(n),e.fileColl.onSort.remove(n)}}),[].concat((0,r.c)(Object.values(v)),[y,R,T])),(0,l.useImperativeHandle)(a,(function(){return{onTabVisibility:function(e){return E.current.onTabVisibility(e)},hideTab:function(e){return E.current.hideTab(e)},showTab:function(e){return E.current.showTab(e)},switchTab:function(e){return E.current.switchTab(e)},addFiles:function(e){return E.current.addFiles(e)},isTabVisible:function(e){return E.current.isTabVisible(e)},getFileColl:function(){return E.current.fileColl},getRawDialogApi:function(){return E.current}}}),[]),(0,l.useEffect)((function(){return function(){return E.current&&E.current.reject()}}),[]),(0,l.useEffect)((function(){var l=!1;E.current.fileColl.clear();var a,o=c(t),i=(0,r.d)(o);try{for(i.s();!(a=i.n()).done;){var u=a.value;if("string"===typeof u&&u.includes("~")){n.loadFileGroup(u,e).then((function(e){if(!l){var n=e.files();E.current.addFiles(n)}}));break}E.current.fileColl.add(n.fileFrom("uploaded",u,e))}}catch(f){i.e(f)}finally{i.f()}return function(){l=!0}}),[t]),[w]}(e,a),d=(0,r.b)(s,1)[0];return l.createElement("div",{id:e.id,className:t,style:u},f,l.createElement("div",{ref:d}))}}}]);
//# sourceMappingURL=ucare-panel-chunk.50b36135.chunk.js.map