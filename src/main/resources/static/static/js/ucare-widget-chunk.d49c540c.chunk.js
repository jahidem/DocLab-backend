"use strict";(self.webpackChunkdoclab_frontend=self.webpackChunkdoclab_frontend||[]).push([[923],{738:function(e,n,r){r.r(n),r.d(n,{default:function(){return f}});var t=r(5138),u=r(2791),a=r(9540),o=r(3254),l=r(77);r(4947);var c=["id","name","value","onFileSelect","onChange","onDialogOpen","onDialogClose","onTabChange","apiRef","customTabs","validators","tabsCss","locale","localeTranslations","localePluralize","previewUrlCallback"];var i=function(e,n){var r=e.id,a=e.name,i=e.value,f=e.onFileSelect,s=e.onChange,d=e.onDialogOpen,C=e.onDialogClose,v=e.onTabChange,A=e.apiRef,p=e.customTabs,L=e.validators,E=e.tabsCss,g=e.locale,O=e.localeTranslations,R=e.localePluralize,w=e.previewUrlCallback,b=(0,t.a)(e,c),_=(0,u.useRef)(null),h=(0,u.useRef)(null),m=(0,u.useRef)(null),D=(0,o.u)(f),U=(0,o.u)(s),P=(0,o.u)(d),T=(0,o.u)(C),I=(0,o.u)(v);(0,o.a)(p,n);var S=function(e,n){var r=!0,t=(0,u.useRef)();t.current?r=!!(n&&t.current.deps&&l(n,t.current.deps)):t.current={deps:n,result:e()};var a=r?t.current:{deps:n,result:e()};return t.current=a,a.result}((function(){return e=b,Object.entries(e).reduce((function(e,n){var r=(0,t.b)(n,2),u=r[0],a=r[1];return(0,t.c)((0,t.c)({},e),{},(0,t.d)({},"data-".concat(u.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()),a))}),{});var e}),[b]);return(0,o.b)((function(){return g&&(window.UPLOADCARE_LOCALE=g),R&&(window.UPLOADCARE_LOCALE_PLURALIZE=R),O&&(window.UPLOADCARE_LOCALE_TRANSLATIONS=O),w&&(window.UPLOADCARE_PREVIEW_URL_CALLBACK=w),n.plugin((function(e){e.locale.rebuild({locale:g||null,localeTranslations:O||null,localePluralize:R||null})})),function(){g&&delete window.UPLOADCARE_LOCALE,R&&delete window.UPLOADCARE_LOCALE_PLURALIZE,O&&delete window.UPLOADCARE_LOCALE_TRANSLATIONS,w&&delete window.UPLOADCARE_PREVIEW_URL_CALLBACK}}),[g,O,R,w]),(0,u.useEffect)((function(){var e=_.current;h.current=n.Widget(e);var r=e.nextSibling;return m.current&&h.current.value(m.current),function(){n.jQuery(e).removeData("uploadcareWidget"),r&&r.remove()}}),[n,S]),function(e,n){(0,u.useEffect)((function(){if(null!=n){var r=e.current;return n.forEach((function(e){r.validators.push(e)})),function(){r.validators.length=0}}}),[e,n])}(h,L),(0,u.useEffect)((function(){return h.current.onUploadComplete.add(U),h.current.onChange.add(D),function(){h.current.onUploadComplete.remove(U),h.current.onChange.remove(D)}}),[U,D,n,S]),(0,u.useEffect)((function(){var e,n=function(n){(e=n).done(T).fail(T).progress(I),P(n)};return h.current.onDialogOpen.add(n),function(){h.current.onDialogOpen.remove(n),e&&e.reject()}}),[S,T,P,I]),(0,u.useEffect)((function(){var e=[],n=function(n){e=n?n.files?n.files():[n]:[]};return h.current.onChange.add(n),function(){e.forEach((function(e){return e.cancel()})),h.current.onChange.remove(n)}}),[S]),(0,u.useEffect)((function(){m.current!==i&&h.current.value(i),m.current=i}),[i]),(0,u.useEffect)((function(){n&&E&&"string"===typeof E&&(0===E.indexOf("https://")?n.tabsCss.addUrl(E):n.tabsCss.addStyle(E))}),[n,E]),(0,u.useImperativeHandle)(A,(function(){return{openDialog:function(){return h.current.openDialog()},reloadInfo:function(){return h.current.reloadInfo()},getInput:function(){return h.current.inputElement},value:function(e){return h.current.value(e)}}}),[]),(0,u.useCallback)((function(){return u.createElement("input",(0,t._)({type:"hidden",ref:_,id:r,name:a},S))}),[S,r,a])},f=function(e){var n=i(e,a);return u.createElement(n,null)}}}]);
//# sourceMappingURL=ucare-widget-chunk.d49c540c.chunk.js.map