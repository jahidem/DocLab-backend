"use strict";(self.webpackChunkdoclab_frontend=self.webpackChunkdoclab_frontend||[]).push([[923],{140:function(e,n,r){r.r(n),r.d(n,{default:function(){return f}});var t=r(460),u=r(791),a=r(540),l=r(775),o=r(77);var c=["id","name","value","onFileSelect","onChange","onDialogOpen","onDialogClose","onTabChange","apiRef","customTabs","validators","tabsCss","locale","localeTranslations","localePluralize","previewUrlCallback","metadataCallback"],i=function(e,n){var r=e.id,a=e.name,i=e.value,f=e.onFileSelect,s=e.onChange,d=e.onDialogOpen,C=e.onDialogClose,p=e.onTabChange,v=e.apiRef,E=e.customTabs,g=e.validators,A=e.tabsCss,L=e.locale,b=e.localeTranslations,m=e.localePluralize,O=e.previewUrlCallback,h=e.metadataCallback,w=(0,t._)(e,c),R=(0,u.useRef)(null),D=(0,u.useRef)(null),U=(0,u.useRef)(null),_=(0,l.u)(f),k=(0,l.u)(s),P=(0,l.u)(d),T=(0,l.u)(C),I=(0,l.u)(p),S=(0,l.u)(h),y=(0,l.u)(O||l.d),N=function(e,n){var r=!0,t=(0,u.useRef)();t.current?r=!!(n&&t.current.deps&&o(n,t.current.deps)):t.current={deps:n,result:e()};var a=r?t.current:{deps:n,result:e()};return t.current=a,a.result}((function(){return w}),[w]);return(0,l.a)(E,n),(0,l.b)((function(){return L&&(window.UPLOADCARE_LOCALE=L),m&&(window.UPLOADCARE_LOCALE_PLURALIZE=m),b&&(window.UPLOADCARE_LOCALE_TRANSLATIONS=b),n.plugin((function(e){e.locale.rebuild({locale:L||null,localeTranslations:b||null,localePluralize:m||null})})),function(){L&&delete window.UPLOADCARE_LOCALE,m&&delete window.UPLOADCARE_LOCALE_PLURALIZE,b&&delete window.UPLOADCARE_LOCALE_TRANSLATIONS}}),[L,b,m]),(0,u.useEffect)((function(){var e=R.current;D.current=n.Widget(e,(0,t.a)((0,t.a)({},N),{},{metadataCallback:N.metadata?void 0:S,previewUrlCallback:y}));var r=e.nextSibling;return U.current&&D.current.value(U.current),function(){n.jQuery(e).removeData("uploadcareWidget"),r&&r.remove()}}),[n,N,S,y]),function(e,n){(0,u.useEffect)((function(){if(null!=n){var r=e.current;return n.forEach((function(e){r.validators.push(e)})),function(){r.validators.length=0}}}),[e,n])}(D,g),(0,u.useEffect)((function(){return D.current.onUploadComplete.add(k),D.current.onChange.add(_),function(){D.current.onUploadComplete.remove(k),D.current.onChange.remove(_)}}),[k,_,n,N]),(0,u.useEffect)((function(){var e,n=function(n){(e=n).done(T).fail(T).progress(I),P(n)};return D.current.onDialogOpen.add(n),function(){D.current.onDialogOpen.remove(n),e&&e.reject()}}),[T,P,I,N]),(0,u.useEffect)((function(){var e=[],n=function(n){e=n?n.files?n.files():[n]:[]};return D.current.onChange.add(n),function(){e.forEach((function(e){return e.cancel()})),D.current.onChange.remove(n)}}),[N]),(0,u.useEffect)((function(){U.current!==i&&D.current.value(i),U.current=i}),[i]),(0,u.useEffect)((function(){n&&A&&"string"===typeof A&&(0===A.indexOf("https://")?n.tabsCss.addUrl(A):n.tabsCss.addStyle(A))}),[n,A]),(0,u.useImperativeHandle)(v,(function(){return{openDialog:function(){return D.current.openDialog()},reloadInfo:function(){return D.current.reloadInfo()},getInput:function(){return D.current.inputElement},value:function(e){return D.current.value(e)}}}),[]),(0,u.useCallback)((function(){return u.createElement("input",{type:"hidden",ref:R,id:r,name:a})}),[r,a])},f=function(e){var n=i(e,a);return u.createElement(n,null)}}}]);
//# sourceMappingURL=ucare-widget-chunk.4c6c7e03.chunk.js.map